<template>
  <div id="home" class="overflow-hidden">
    <Header />
    <div
      id="home-bg"
      class="relative w-screen h-screen home-bg bg-cover bg-fixed"
    >
      <div class="absolute inset-0 bg-black bg-opacity-50"></div>
      <div class="relative w-full h-full z-10 flex justify-center items-center">
        <div
          class="w-max h-max text-white text-center tracking-normal md:tracking-widest min-w-400"
        >
          <h1
            class="px-6 md:px-16 mb-6 md:mb-8 text-2xl md:text-3xl lg:text-5xl"
          >
            å§šè¶…èˆª - Welcome to My Personal Page
          </h1>
          <h2
            class="px-6 md:px-16 text-sm md:text-base wow animate__fadeInRight"
          >
            æˆ‘æ˜¯ä¸€åå‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ - Frontend
            Developerï¼Œæ¢ç´¢åˆ›æ–°ï¼Œç”¨ä»£ç ç»˜åˆ¶æœªæ¥ã€‚Experienced in the frontend
            realm with 3 years of coding adventures.
            æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººä¸»é¡µï¼Œä¸€èµ·æ¢ç´¢å‰ç«¯çš„å¥‡å¦™ä¸–ç•Œï¼
          </h2>
        </div>
        <i
          class="iconfont icon-geiwo text-2xl text-white absolute bottom-12 left-2/4 -translate-y-2/4 cursor-pointer down-arrow"
          @click.stop="downArrow"
        ></i>
      </div>
    </div>

    <!-- å…³äº -->
    <div class="w-full md:w-10/12 mx-auto px-6">
      <h2
        id="about"
        class="mt-12 md:mt-24 mb-6 md:mb-12 text-center text-4xl text-slate-600 font-bold wow animate__fadeIn"
      >
        <span class="relative about">ABOUT ME</span>
      </h2>

      <p class="leading-6 md:indent-7 wow animate__fadeIn">
        æˆ‘æ˜¯ä¸€åä¸“æ³¨äºå‰ç«¯å¼€å‘çš„å·¥ç¨‹å¸ˆï¼Œæ‹¥æœ‰è®¡ç®—æœºä¿¡æ¯ç®¡ç†ï¼ˆäº’è”ç½‘å¼€å‘æ–¹å‘ï¼‰çš„ä¸“ä¸šèƒŒæ™¯ã€‚æˆ‘çƒ­è¡·äºæ„å»ºä¼˜è´¨çš„ç”¨æˆ·ç•Œé¢å’Œå‡ºè‰²çš„ç”¨æˆ·ä½“éªŒã€‚åœ¨è¿‡å»çš„ä¸‰å¹´é‡Œï¼Œæˆ‘ä¸€ç›´ä»äº‹å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆçš„å·¥ä½œï¼Œå¹¶å‚ä¸äº†è®¸å¤šä»¤äººæŒ¯å¥‹çš„é¡¹ç›®ã€‚
        æˆ‘ä»¥è‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯å’Œå¯¹ç¼–ç¨‹çš„å¼ºçƒˆçƒ­æƒ…è‡ªè±ªã€‚æˆ‘ä¸€ç›´è‡´åŠ›äºè¿½æ±‚å“è¶Šï¼Œå¹¶ä¸”æŒç»­å­¦ä¹ æ–°æŠ€æœ¯å’Œå·¥å…·ï¼Œä»¥ä¿æŒåœ¨å¿«é€Ÿå‘å±•çš„æŠ€æœ¯é¢†åŸŸä¸­çš„ç«äº‰åŠ›ã€‚æˆ‘å¯¹äºå‰ç«¯å¼€å‘çš„èŒä¸šç”Ÿæ¶¯éå¸¸æ»¡æ„ï¼ŒåŒæ—¶ä¹Ÿå¸Œæœ›èƒ½å¤Ÿæ¶‰è¶³æœåŠ¡ç«¯å’Œåç«¯çš„é¢†åŸŸï¼Œä»¥æ‰©å±•æˆ‘çš„æŠ€æœ¯å¹¿åº¦å’Œæ·±åº¦ã€‚
      </p>

      <div class="container lg:flex mt-6 md:mt-8">
        <div class="lg:basis-1/3 md:mr-6 wow animate__fadeInLeft">
          <img
            src="~/assets/images/me.jpg"
            class="w-full aspect-[1/1] lg:aspect-auto object-cover"
            alt="me"
          />
        </div>

        <div class="lg:basis-2/3">
          <ul class="mt-6 lg:grid lg:grid-cols-2 wow animate__fadeInRight">
            <li
              v-for="(item, idx) in meInfos"
              :key="idx"
              class="mb-3 whitespace-nowrap"
            >
              <span class="mr-3 text-[#b45309] font-lg">
                <i class="iconfont icon-youjiantou"></i>
              </span>
              <span class="mr-1 text-[#44403c] text-lg font-bold">{{
                item.label
              }}</span>
              <span class="text-[#57534e] text-base">{{ item.value }}</span>
            </li>
          </ul>

          <div class="mt-6">
            <div
              v-for="(item, idx) in skill"
              :key="idx"
              class="mt-6 wow animate__fadeInRight"
              :data-wow-delay="`${idx * 0.1}S`"
            >
              <div class="flex justify-between my-2 text-sm text-[#57534e]">
                <h3>{{ item.name }}</h3>
                <h5>{{ item.progress }}%</h5>
              </div>
              <div class="bg-slate-200 h-2">
                <div :class="`${item.bgColor} ${item.width} h-full`"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- å·¥ä½œç»éªŒ -->
    <div
      id="work"
      class="w-screen bg-[url('~/assets/images/experience.jpg')] bg-cover bg-fixed h-[180px] md:h-[260px] mt-12 md:mt-28"
    >
      <div
        class="w-full h-full md:w-10/12 mx-auto px-6 flex justify-around items-center text-white text-center"
      >
        <div class="w-fit wow animate__fadeInUp" data-wow-delay="0.5s">
          <div class="text-2xl lg:text-6xl">
            <i class="iconfont icon-nianling text-2xl lg:text-6xl"></i>
            <span> 24</span>
          </div>
          <div class="text-xl lg:text-3xl mt-2">å¹´é¾„</div>
        </div>

        <div class="w-fit wow animate__fadeInUp" data-wow-delay="0.8s">
          <div class="text-2xl lg:text-6xl">
            <i class="iconfont icon-gongzuojingyan text-2xl lg:text-6xl"></i>
            <span> 3</span>
          </div>
          <div class="text-xl lg:text-3xl mt-2">å·¥ä½œç»éªŒ</div>
        </div>

        <div class="w-fit wow animate__fadeInUp" data-wow-delay="1.1s">
          <div class="text-2xl lg:text-6xl">
            <i class="iconfont icon-code text-2xl lg:text-6xl"></i>
            <span> 1000000+</span>
          </div>
          <div class="text-xl lg:text-3xl mt-2">ä»£ç è¡Œæ•°</div>
        </div>
      </div>
    </div>

    <!-- é¡¹ç›®ç»éªŒ -->
    <div class="bg-gray-50 py-12">
      <div class="w-full md:w-10/12 mx-auto px-6">
        <h2
          id="project"
          class="mt-12 md:mt-24 mb-6 md:mb-6 text-center text-4xl text-slate-600 font-bold wow animate__fadeIn"
        >
          <span class="relative project">PROJECT</span>
        </h2>

        <p
          class="leading-6 md:indent-7 wow animate__fadeIn text-center mb-2 md:mb-6"
        >
          Explore Some of My Core Projects - æ¢ç´¢éƒ¨åˆ†æ ¸å¿ƒé¡¹ç›®ï¼Œ
        </p>

        <p class="leading-6 md:indent-7 wow animate__fadeIn text-center">
          Innovative Solutions, Transformed Experiences -
          åˆ›æ–°è§£å†³æ–¹æ¡ˆï¼Œæ”¹å˜ä½“éªŒï¼Œ Due to limited space, below is a selection of
          some core projects that showcase my expertise and passion for creating
          exceptional digital experiences. Feel free to explore and learn more
          about my work!
        </p>

        <p
          class="leading-6 md:indent-7 wow animate__fadeIn text-center mb-2 md:mb-6"
        >
          ç”±äºç©ºé—´æœ‰é™ï¼Œä»¥ä¸‹åªåˆ—å‡ºäº†éƒ¨åˆ†æ ¸å¿ƒé¡¹ç›®ï¼Œå®ƒä»¬å±•ç¤ºäº†æˆ‘å¯¹åˆ›é€ å“è¶Šæ•°å­—ä½“éªŒçš„ä¸“ä¸šçŸ¥è¯†å’Œçƒ­æƒ…ã€‚æ¬¢è¿æ¢ç´¢å¹¶äº†è§£æ›´å¤šæˆ‘çš„ä½œå“ï¼
        </p>

        <div class="flex flex-wrap justify-between">
          <!-- å¡ç‰‡ -->
          <div
            v-for="(item, idx) in projectList"
            :key="idx"
            class="w-full md:w-[23%] min-w-[260px] mt-8 lg:mt-0 p-6 rounded-md shadow-lg text-center wow animate__fadeInUp cursor-pointer hover:shadow-xl duration-300"
            :data-wow-delay="`${idx * 0.1}S`"
          >
            <div
              class="w-20 h-20 bg-blue-700 rounded-full mx-auto my-8 flex justify-center items-center"
            >
              <i :class="`iconfont ${item.icon} text-white text-3xl`"></i>
            </div>
            <h4
              class="w-full text-xl font-bold mb-4 hover:text-blue-700 duration-300"
            >
              {{ item.name }}
            </h4>
            <p class="leading-6 text-sm">{{ item.description }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- åè¨€åå¥ -->
    <div
      id="wisdom"
      class="w-screen h-[300px] bg-[url('~/assets/images/banner/swiper-bg.jpg')] mt-4 md:mt-6 bg-cover py-16"
    >
      <Swiper
        class="h-full"
        :modules="[Pagination, SwiperAutoplay]"
        :pagination="pagination"
        :slides-per-view="1"
        :loop="true"
        :autoplay="{
          delay: 5000,
          disableOnInteraction: false,
        }"
      >
        <SwiperSlide v-for="(item, idx) in swiperBannerList" :key="idx">
          <div>
            <div class="text-white text-center">
              <img
                :src="item.avatar"
                class="w-[72px] h-[72px] rounded-full object-cover mx-auto mb-1"
                alt="å¤´åƒ"
              />
              <h3 class="text-2xl mb-4">{{ item.author }}</h3>
              <p class="iconfont text-sm famous-saying-icon">
                {{ item.famousSaying }}
              </p>
            </div>
          </div>
        </SwiperSlide>
      </Swiper>
    </div>

    <!-- æ•™è‚²èƒŒæ™¯ -->
    <div class="mt-24">
      <h2
        id="education"
        class="mt-12 md:mt-24 mb-6 md:mb-6 text-center text-4xl text-slate-600 font-bold wow animate__fadeIn"
      >
        <span class="relative educational">EDUCATIONAL</span>
      </h2>

      <div class="bg-white py-6 sm:py-8 lg:py-12">
        <div class="mx-auto max-w-screen-xl px-4 md:px-8">
          <div class="grid gap-8 md:grid-cols-2 lg:gap-12">
            <div class="md:pt-8 wow animate__fadeInLeft" data-wow-delay="0.3s">
              <div
                class="h-64 overflow-hidden rounded-lg bg-gray-100 shadow-lg md:h-auto"
              >
                <img
                  src="~/assets/images/school.jpg"
                  loading="lazy"
                  alt="Photo by Martin Sanchez"
                  class="h-96 w-full object-cover object-center"
                />
              </div>
            </div>

            <div class="md:pt-8 wow animate__fadeInRight" data-wow-delay="0.8s">
              <h1
                class="mb-4 text-center text-2xl font-bold text-gray-800 sm:text-3xl md:mb-6 md:text-left"
              >
                æ²³åŒ—å»ºæèŒä¸šæŠ€æœ¯å­¦é™¢
              </h1>

              <p class="text-center font-bold text-blue-500 md:text-left">
                2018.9 - 2021.6 ï¼ˆä¿¡æ¯å·¥ç¨‹ç³»ï¼‰
              </p>

              <p class="mb-6 text-gray-500 sm:text-lg mt-6 leading-6">
                ä¸»ä¿®è¯¾ç¨‹ï¼šHTML5ã€CSS3ã€JavaScriptã€Jqueryã€Photoshopã€C
                è¯­è¨€ã€PHPã€Pythonã€è®¡ç®—æœºç½‘ç»œã€è®¡ç®—æœºåº”ç”¨ã€Mysql
              </p>

              <p class="mb-6 text-gray-500 sm:text-lg md:mb-8 leading-6">
                æ²³åŒ—å»ºæèŒä¸šæŠ€æœ¯å­¦é™¢ï¼ˆHebei Polytechnic of Building
                Materialsï¼‰ä½äºæ²³åŒ—çœç§¦çš‡å²›å¸‚ï¼Œæ˜¯ç»æ²³åŒ—çœäººæ°‘æ”¿åºœæ‰¹å‡†ã€ä¸­åäººæ°‘å…±å’Œå›½æ•™è‚²éƒ¨å¤‡æ¡ˆçš„é«˜ç­‰èŒä¸šæŠ€æœ¯é™¢æ ¡ï¼Œæ˜¯æ•™è‚²éƒ¨å…¨å›½å»ºææ•™æŒ‡å§”å‰¯ä¸»ä»»å•ä½ã€æ²³åŒ—çœå»ºæèŒä¸šæ•™è‚²é›†å›¢ç‰µå¤´å•ä½ã€æ²³åŒ—çœå»ºæå·¥ä¸šåä¼šå‰¯ä¼šé•¿å•ä½ã€æ²³åŒ—çœç¡…é…¸ç›å­¦ä¼šå‰¯ç†äº‹é•¿å•ä½ã€æ²³åŒ—çœæœåŠ¡å¤–åŒ…åŸ¹è®­åŸºåœ°ã€æ•™è‚²éƒ¨æ”¯æ´è¥¿éƒ¨æ•™è‚²é¡¾é—®é™¢æ ¡ã€‚
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- è”ç³»æˆ‘ -->
    <div class="w-full md:w-10/12 mx-auto px-6">
      <h2
        id="contact"
        class="mt-12 md:mt-24 mb-6 text-center text-4xl text-slate-600 font-bold wow animate__fadeIn"
      >
        <span class="relative contact">CONTACT ME</span>
      </h2>

      <div class="bg-white py-6 sm:py-8 lg:py-12">
        <div class="mx-auto max-w-screen-2xl px-4 md:px-8">
          <div class="mb-10 md:mb-16 wow animate__fadeInUp">
            <h2
              class="mb-4 text-center text-2xl font-bold text-gray-800 md:mb-6 lg:text-3xl"
            >
              ä¸ªäººé‚®ç®±
            </h2>

            <p
              class="mx-auto max-w-screen-md text-center text-gray-500 md:text-lg"
            >
              é€šè¿‡ä¸‹åˆ—è¡¨å•å¯ä»¥ç›´æ¥å‘ä½œè€…å‘é€é‚®ä»¶
            </p>
          </div>

          <form
            class="mx-auto grid max-w-screen-md gap-4 sm:grid-cols-2 wow animate__fadeInUp"
          >
            <div class="sm:col-span-2">
              <label
                for="name"
                class="mb-2 inline-block text-sm text-gray-800 sm:text-base"
                >ç”¨æˆ·å*</label
              >
              <input
                v-model="emailForm.name"
                name="name"
                class="w-full rounded border bg-gray-50 px-3 py-2 text-gray-800 outline-none ring-blue-300 transition duration-100 focus:ring"
              />
            </div>

            <div class="sm:col-span-2">
              <label
                for="email"
                class="mb-2 inline-block text-sm text-gray-800 sm:text-base"
                >é‚®ç®±*</label
              >
              <input
                v-model="emailForm.email"
                name="email"
                class="w-full rounded border bg-gray-50 px-3 py-2 text-gray-800 outline-none ring-blue-300 transition duration-100 focus:ring"
              />
            </div>

            <div class="sm:col-span-2">
              <label
                for="message"
                class="mb-2 inline-block text-sm text-gray-800 sm:text-base"
                >å†…å®¹*</label
              >
              <textarea
                v-model="emailForm.message"
                name="message"
                class="h-64 w-full rounded border bg-gray-50 px-3 py-2 text-gray-800 outline-none ring-blue-300 transition duration-100 focus:ring"
              ></textarea>
            </div>

            <div class="flex items-center justify-between sm:col-span-2">
              <button
                class="inline-block rounded-lg bg-blue-500 px-8 py-3 text-center text-sm font-semibold text-white outline-none ring-blue-300 transition duration-100 hover:bg-blue-600 focus-visible:ring active:bg-blue-700 md:text-base"
                @click="sendEmail"
              >
                <i
                  id="send-email-loading"
                  class="inline-block hidden iconfont icon-loading btn-loading"
                ></i>
                å‘é€
              </button>
            </div>

            <p class="text-xs text-gray-400">
              æƒ³è¦å­¦ä¹ å‰ç«¯ç›¸å…³æŠ€æœ¯ä¹Ÿå¯ä»¥æ”¾æˆ‘ä½œè€…ä¸ªäººåšå®¢
              <a
                href="https://www.chaohangweb.cn"
                target="_blank"
                class="underline transition duration-100 hover:text-blue-500 active:text-blue-600"
                >åƒç´ è„‰åŠ¨</a
              >.
            </p>
          </form>
        </div>
      </div>
    </div>

    <!-- é¡µè„š -->
    <div class="pt-4 bg-slate-900">
      <footer class="mx-auto max-w-screen-2xl px-4 md:px-8">
        <div
          class="flex flex-col items-center justify-between gap-4 border-t border-b md:flex-row"
        >
          <nav
            class="flex flex-wrap justify-center gap-x-4 gap-y-2 md:justify-start md:gap-6"
          >
            <a
              href="https://www.chaohangweb.cn"
              target="_black"
              class="text-gray-500 transition duration-100 hover:text-blue-500 active:text-blue-600"
              >åƒç´ è„‰åŠ¨ï¼ˆBlogï¼‰</a
            >
          </nav>

          <div class="flex gap-4">
            <a
              href="https://github.com/Yao-Chaohang"
              target="_blank"
              class="text-gray-400 transition duration-100 hover:text-gray-500 active:text-gray-600"
            >
              <svg
                class="h-5 w-5"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="currentColor"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                />
              </svg>
            </a>
          </div>
        </div>

        <div class="pt-2 text-center text-sm text-gray-400">
          Â© 2023 - Present å§šè¶…èˆª. All rights reserved.
        </div>
        <div class="py-2 text-center text-sm text-gray-400">
          <a href="https://beian.miit.gov.cn/" target="_blank"
            >å†€ICPå¤‡2023017514å·</a
          >
        </div>
      </footer>
    </div>

    <div
      id="notificationContainer"
      class="fixed top-24 left-[50%] translate-x-[-50%] text-white py-2 px-4 rounded hidden z-50"
    >
      {{ hint }}
    </div>
  </div>
</template>

<script setup>
import { onMounted, onUnmounted, ref } from "vue";
import { Pagination } from "swiper/modules";
import { sendEmailFetch } from "~/utils/api";

const meInfos = [
  {
    label: "å§“åï¼š",
    value: "yaochaohang",
  },
  {
    label: "å¹´é¾„ï¼š",
    value: "24",
  },
  {
    label: "åšå®¢ï¼š",
    value: "www.chaohangweb.cn",
  },
  {
    label: "æœåŠ¡å™¨ï¼š",
    value: "åä¸ºäº‘",
  },
  {
    label: "æ‰‹æœºå·ï¼š",
    value: "19133965998",
  },
  {
    label: "ä¸ªäººé‚®ç®±ï¼š",
    value: "yaochaohang219@gmail.com",
  },
  {
    label: "åŸå¸‚ï¼š",
    value: "æ²³åŒ—",
  },
];

const skill = [
  {
    name: "HTML / CSS3",
    progress: 90,
    width: "w-[90%]",
    bgColor: "bg-[#0891b2]",
  },
  {
    name: "Javascript / ES6",
    progress: 80,
    width: "w-[80%]",
    bgColor: "bg-[#0f766e]",
  },
  {
    name: "TypeScript",
    progress: 75,
    width: "w-[75%]",
    bgColor: "bg-[#16a34a]",
  },
  {
    name: "Vue2 / Vue3",
    progress: 80,
    width: "w-[80%]",
    bgColor: "bg-[#4f46e5]",
  },
  {
    name: "Nuxt2 / Nuxt3",
    progress: 80,
    width: "w-[80%]",
    bgColor: "bg-[#c026d3]",
  },
  {
    name: "React",
    progress: 60,
    width: "w-[60%]",
    bgColor: "bg-[#ca8a04]",
  },
  {
    name: "Ant Design / Element Ul / Echarts / Iview / Bootstrap ...",
    progress: 88,
    width: "w-[88%]",
    bgColor: "bg-[#22d3ee]",
  },
  {
    name: "Less / Scss",
    progress: 83,
    width: "w-[83%]",
    bgColor: "bg-[#f59e0b]",
  },
  {
    name: "uni-app / å¾®ä¿¡å°ç¨‹åº",
    progress: 60,
    width: "w-[60%]",
    bgColor: "bg-[#c2410c]",
  },
  {
    name: "Linux",
    progress: 50,
    width: "w-[50%]",
    bgColor: "bg-[#dc2626]",
  },
];

const projectList = [
  {
    icon: "icon-wuliuxiaocheche",
    name: "FoodsUp",
    description:
      "FoodsUp chain consider â€œleading restaurants to be an Eco-friendly industryâ€ as mission, providing high quality food container made by degradable, recyclable material such as sugarcane, kraft and shell.",
  },
  {
    icon: "icon-bangong",
    name: "**æœ‰å¨±ç§‘æŠ€æœ‰é™å…¬å¸OAåŠå…¬å¹³å°",
    description:
      "ä¸€æ¬¾é’ˆå¯¹æŸæŸå…¬å¸çš„åŠå…¬ä¸šåŠ¡æ­å»ºçš„çº¿ä¸ŠOAåŠå…¬ç³»ç»Ÿï¼Œæå‡äº†å…¬å¸å†…éƒ¨æ•´ä½“çš„åŠå…¬æ•ˆç‡",
  },
  {
    icon: "icon-xinjianhuiyi",
    name: "å¤šåœºæ™¯è§†é¢‘ä¼šè®®è¯„å®¡ç³»ç»Ÿ",
    description:
      "ç–«æƒ…æœŸé—´ä¸“å®¶åŠæ±‡æŠ¥å‘˜ç­‰äººå‘˜ä¸æ–¹ä¾¿è¿›è¡Œçº¿ä¸‹å¼€å±•ä¼šè®®è€Œç ”å‘çš„è¿™æ¬¾ç³»ç»Ÿã€‚å®ƒæœ‰ç€ä¸°å¯Œçš„ä¸šåŠ¡åŠŸèƒ½ä»¥åŠå¤šç§ç±»å‹çš„ä¼šè®®å®¤å¯ä¾›ç”¨æˆ·é€‰æ‹©",
  },
  {
    icon: "icon-kapian",
    name: "*å¸‚ç¤¾ä¿å¡ç®¡ç†å¹³å°",
    description:
      "å¹³å°é’ˆå¯¹æŸå¸‚çš„ç¤¾ä¿å¡ä¸šåŠ¡éœ€æ±‚è¿›è¡Œç ”å‘ï¼Œå¯ä»¥ä½¿å„ä¸ªç½‘ç‚¹çš„å·¥ä½œäººå‘˜é’ˆå¯¹ç”¨æˆ·çš„ç¤¾ä¿å¡éœ€æ±‚è¿›è¡Œç»´æŠ¤ï¼Œæ¯”å¦‚ç”¨æˆ·éœ€è¦åŠç†ç¤¾ä¿å¡ã€å¿˜è®°äº†å¯†ç ã€æƒ³è¦ç¤¾ä¿å¡è½¬ç§»ç­‰ç­‰ï¼Œéƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªå¹³å°å»è¿›è¡ŒåŠç†",
  },
];

const pagination = {
  clickable: true,
  renderBullet: function (index, className) {
    return `<span class="${className}"></span>`;
  },
};

const swiperBannerList = [
  {
    avatar: "/mike.png",
    author: "Carig Zerouni",
    famousSaying: "å¦‚æœä½ å‘ç°ç‰¹æ®Šæƒ…å†µå¤ªå¤šï¼Œé‚£ä½ è‚¯å®šæ˜¯ç”¨é”™æ–¹æ³•äº†ã€‚",
  },
  {
    avatar: "/adam.jpg",
    author: "Edsger Dijkstra",
    famousSaying: "æµ‹è¯•åªèƒ½è¯æ˜ç¨‹åºæœ‰é”™è¯¯ï¼Œè€Œä¸èƒ½è¯æ˜ç¨‹åºæ²¡æœ‰é”™è¯¯ã€‚",
  },
  {
    avatar: "/ben.png",
    author: "Walt Weir",
    famousSaying: "å¦‚æœæˆ‘ä»¬æ²¡èƒ½åŠ›ä¿®å¥½å®ƒï¼Œæˆ‘ä»¬å°±ä¼šå‘Šè¯‰ä½ å®ƒæ ¹æœ¬æ²¡åã€‚",
  },
];

const emailForm = ref({
  name: "",
  email: "",
  message: "",
});

const hint = ref("");

function smoothScrollTo(offset) {
  // å®šä¹‰æ¯ä¸€å¸§çš„æ»šåŠ¨è·ç¦»å’Œæ€»å¸§æ•°
  const scrollStep = offset / 15;
  let currentStep = 0;

  // ä½¿ç”¨requestAnimationFrameå®ç°å¹³æ»‘æ»šåŠ¨
  function step() {
    currentStep++;
    window.scrollBy(0, scrollStep);

    // åˆ¤æ–­æ˜¯å¦è¾¾åˆ°ç›®æ ‡ä½ç½®
    if (currentStep < 15) {
      requestAnimationFrame(step);
    }
  }

  // å¼€å§‹æ»šåŠ¨
  requestAnimationFrame(step);
}

function navbarClick() {
  // è·å–å¯¼èˆªæ å…ƒç´ 
  const navbar = document.getElementById("navbar");

  // ç›‘å¬å¯¼èˆªèœå•é¡¹ç‚¹å‡»äº‹ä»¶ï¼Œè§¦å‘å¹³æ»‘æ»šåŠ¨
  navbar.addEventListener("click", (event) => {
    if (event.target.tagName === "A") {
      event.preventDefault(); // é˜»æ­¢é»˜è®¤çš„é”šç‚¹è·³è½¬è¡Œä¸º
      const targetId = event.target.getAttribute("href");
      const targetElement = document.querySelector(targetId);

      // è·å–ç›®æ ‡å…ƒç´ ç›¸å¯¹äºè§†å£é¡¶éƒ¨çš„ä½ç½®
      let offset = targetElement.getBoundingClientRect().top;

      if (targetId === "#home-name") {
        offset = 0;
      }

      // æ»šåŠ¨åˆ°ç›®æ ‡ä½ç½®
      smoothScrollTo(offset);
    }
  });
}

function debounce(func, delay) {
  let timer;

  return function (...args) {
    clearTimeout(timer);
    timer = setTimeout(() => {
      func.apply(this, args);
    }, delay);
  };
}

function setNav() {
  const navbar = document.getElementById("navbar");
  const menuItems = Array.from(navbar.getElementsByTagName("li"));

  let closestMenuItem = null;
  let closestDistance = Number.MAX_SAFE_INTEGER;

  menuItems.forEach((item) => {
    const targetId = item
      .getElementsByTagName("a")[0]
      .href.replace("#", "")
      .replace(`${window.location.origin}/`, "");
    const targetSection = document.getElementById(targetId);

    if (targetSection) {
      const distance = Math.abs(targetSection.getBoundingClientRect().top);
      if (distance < closestDistance) {
        closestMenuItem = item;
        closestDistance = distance;
      }
    }
  });

  menuItems.forEach((item) => {
    if (item === closestMenuItem) {
      item.classList.add("text-blue-500");
    } else {
      item.classList.remove("text-blue-500");
    }
  });
}

onMounted(() => {
  if (process.client) {
    navbarClick();
    setNav();
    const setNavHandle = debounce(setNav, 200);
    window.addEventListener("scroll", setNavHandle);
  }
});

function downArrow() {
  const scrollHeight = window.scrollY;
  const windowHeight = window.innerHeight;
  const targetPosition = windowHeight - scrollHeight;

  window.scrollBy({
    top: targetPosition - 64,
    behavior: "smooth",
  });
}

function reset() {
  emailForm.value = {
    name: "",
    email: "",
    message: "",
  };
}

function verify(type, value, message, format = "") {
  if (type === "required") {
    if (!value) {
      return message;
    }
  }

  if (format === "email") {
    const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;

    if (!emailRegex.test(value)) {
      return "è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±";
    }
  }
}

function notification(type, message) {
  const notification = document.getElementById("notificationContainer");
  notification.classList.remove("hidden");
  notification.classList.add("animate-fadeInOut");

  if (type === "success") {
    notification.classList.add("bg-green-500");
  }

  if (type === "error") {
    notification.classList.add("bg-red-500");
  }

  hint.value = message;

  setTimeout(function () {
    if (type === "success") {
      notification.classList.remove("bg-green-500");
    }

    if (type === "error") {
      notification.classList.remove("bg-red-500");
    }
    notification.classList.remove("animate-fadeInOut");
    notification.classList.add("hidden");
  }, 1500);
}

function toggleButtonLoading(type, id) {
  const dom = document.getElementById(id);
  if (dom) {
    if (type === "add") {
      dom.style.display = "inline-block";
    }

    if (type === "remove") {
      dom.style.display = "none";
    }
  }
}

function sendEmail(event) {
  event.preventDefault();
  const { name, email, message } = emailForm.value;
  const verifyName = verify("required", name, "è¯·è¾“å…¥å§“å");
  const verifyEmail = verify("required", email, "è¯·è¾“å…¥é‚®ç®±", "email");
  const verifyMessage = verify("required", message, "è¯·è¾“å…¥è¯¦ç»†å†…å®¹");

  if (verifyName) {
    notification("error", verifyName);
  } else if (verifyEmail) {
    notification("error", verifyEmail);
  } else if (verifyMessage) {
    notification("error", verifyMessage);
  } else {
    toggleButtonLoading("add", "send-email-loading");
    sendEmailFetch({ name, email, message })
      .then((res) => {
        const message = res.data.value.message || "å‘é€æˆåŠŸ";
        const status = res.data.value.status || "failure";
        if (status === "success") {
          reset();
          notification("success", message);
        } else if (status === "failure") {
          notification("error", message);
        } else {
          notification("error", "æœåŠ¡å™¨å‡ºç°é—®é¢˜ï¼");
        }
      })
      .catch((err) => {
        console.log("ğŸš€ ~ file: index.vue:746 ~ sendEmail ~ err:", err);
      })
      .finally(() => {
        toggleButtonLoading("remove", "send-email-loading");
      });
  }
}

onUnmounted(() => {
  window.removeEventListener("scroll");
});
</script>

<style lang="scss" scoped>
#home {
  .home-bg {
    background-image: url("~/assets/images/home-bg.jpg");
  }

  .down-arrow {
    animation: floatUpDown 2s infinite;
  }

  .about::before {
    content: "ABOUT ME";
    position: absolute;
    top: -12px;
    font-size: 48px;
    color: #a5a5a5;
    opacity: 0.2;
    white-space: nowrap;
    transform: translateX(-12%);
    font-weight: bold;
  }

  .project::before {
    content: "PEOJECT";
    position: absolute;
    top: -12px;
    font-size: 48px;
    color: #a5a5a5;
    opacity: 0.2;
    white-space: nowrap;
    transform: translateX(-12%);
    font-weight: bold;
  }

  .educational::before {
    content: "EDUCATIONAL";
    position: absolute;
    top: -12px;
    font-size: 48px;
    color: #a5a5a5;
    opacity: 0.2;
    white-space: nowrap;
    transform: translateX(-12%);
    font-weight: bold;
  }

  .contact::before {
    content: "CONTACT ME";
    position: absolute;
    top: -12px;
    font-size: 48px;
    color: #a5a5a5;
    opacity: 0.2;
    white-space: nowrap;
    transform: translateX(-12%);
    font-weight: bold;
  }

  .famous-saying-icon::before {
    content: "\eb8b";
    font-size: 18px;
    margin-right: 5px;
  }

  .famous-saying-icon::after {
    content: "\eb8a";
    font-size: 18px;
  }

  @keyframes floatUpDown {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  .btn-loading {
    animation: loading-keyframes 1s linear infinite;
  }

  @keyframes loading-keyframes {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  :deep(.swiper-pagination) {
    margin-bottom: -8px;
  }

  :deep(.swiper-pagination-bullet) {
    width: 12px;
    height: 12px;
    background-color: rgb(59 130 246 / 1);
  }
}
</style>
